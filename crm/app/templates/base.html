<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BrokerBuddy</title>
  <link rel="stylesheet" href="/static/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
  <div class="top-bar transparent">
    <button class="menu-toggle" onclick="toggleSidebar()">â˜°</button>
    <div class="top-left"><a href="/dashboard" class="brand-link">ğŸ¡ BrokerBuddy</a></div>
    <div class="top-right"><a href="/logout" class="logout-button">â¬…ï¸ Logout</a></div>
  </div>

  <div class="layout">
    <aside class="sidebar">
      <h2>ğŸ“Š Menu</h2>
      <ul>
        <li><a href="/property-trends" class="sidebar-link">ğŸ“ˆ Trends</a></li>
        <li><a href="/dashboard">ğŸ  Dashboard</a></li>
        <li><a href="/upload-leads">ğŸ“¤ Upload Leads</a></li>
        <li><a href="/active-leads">ğŸ“‹ Active Leads</a></li>
        <li><a href="/agents">ğŸ‘¥ Agents</a></li>
      </ul>
    </aside>

    <main class="main-wrapper fade-in">
      {% block content %}{% endblock %}
    </main>
  </div>


<script>
  function openNotePopup(leadId, existingNote = "") {
    document.getElementById("noteModal").classList.remove("hidden");
    const noteForm = document.getElementById("noteForm");
    noteForm.action = `/add-note/${leadId}`;
    document.getElementById("noteText").value = existingNote.replace(/\\n/g, '\n');
  }

  function closeNotePopup() {
    document.getElementById("noteModal").classList.add("hidden");
  }

  function toggleSidebar() {
    document.querySelector('.sidebar').classList.toggle('open');
  }
</script>


</body>
</html>
