<!-- app/templates/dashboard.html -->
<!DOCTYPE html>
<html>
<head>
  <title>Dashboard - BrokerBuddy</title>
  <link rel="stylesheet" href="/static/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
</head>
<body class="dashboard-body">
<button onclick="toggleDarkMode()" class="dark-mode-btn">ğŸŒ“</button>
  <div class="sidebar">
    <h2>ğŸ¡ BrokerBuddy</h2>
    <ul>
      <li><a href="#">ğŸ“ˆ Trends</a></li>
      <li><a href="#">ğŸ¯ Lead Conversions</a></li>
      <li><a href="/upload-leads">ğŸ“¤ Upload Leads</a></li>
      <li><a href="/active-leads">ğŸ“‹ Active Leads</a></li>
      <li><a href="#">ğŸ‘¥ Agents</a></li>
    </ul>
  </div>
  <div class="main-content">
    <h1>Welcome, {{ user.username.capitalize() }}</h1>
    <div class="card">
      <h2>Lead Conversion Trends</h2>
             <canvas id="leadChart" width="600" height="300"></canvas>
       <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
       <script>
         const ctx = document.getElementById('leadChart').getContext('2d');
         new Chart(ctx, {
           type: 'bar',
           data: {
             labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri'],
             datasets: [{
               label: 'Leads',
               data: [12, 19, 9, 17, 15],
               backgroundColor: '#ff7eb3'
             }]
           },
           options: {
             scales: {
               y: { beginAtZero: true }
             }
           }
         });
       </script>
      <p>Charts and stats will go here...</p>
    </div>
  </div>
</body>
</html>

<script>
  function toggleDarkMode() {
    document.body.classList.toggle('dark-mode');
    localStorage.setItem("darkMode", document.body.classList.contains('dark-mode'));
  }

  // Apply mode on load
  window.onload = function () {
    if (localStorage.getItem("darkMode") === "true") {
      document.body.classList.add("dark-mode");
    }
  }
</script>
